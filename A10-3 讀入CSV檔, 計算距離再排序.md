# A10-3 讀入CSV檔, 計算距離再排序

## (1) 程式範例
``` python
#---------------------------------------
# 匯入math模組內的函式
#---------------------------------------
from math import sin, cos, sqrt, atan2, radians

#---------------------------------------
# 讀入CSV檔(台北捷運站)的格式
# 代號(0), 站名(1), 線名(2), 郵遞區號(3),
# 地址(4), 緯度(5), 經度(6)
#---------------------------------------
with open('mrt.csv', 'r', encoding='UTF-8') as file:
    #----------------------
    # 存放車站
    #----------------------
    output=[]

    # 逐行處理讀入的資料
    for data in file.readlines():
        #----------------------
        # 北商的座標
        #----------------------
        data=data.strip()
        data=data.split(',')

        #----------------------
        # 北商的座標
        #----------------------
        lat1 = radians(25.042453)
        lon1 = radians(121.525168)

        #----------------------
        # 車站的座標
        #----------------------
        lat2 = radians(float(data[5]))
        lon2 = radians(float(data[6]))

        #----------------------
        # 計算兩點距離(公里)
        # 存在distance中
        #----------------------
        dlon = lon2 - lon1
        dlat = lat2 - lat1

        a = sin(dlat / 2)**2 + cos(lat1) * cos(lat2) * sin(dlon / 2)**2
        c = 2 * atan2(sqrt(a), sqrt(1 - a))
        distance = round(6373.0 * c,1)

        #----------------------       
        # 存放車站
        #----------------------        
        output.append([data[0], data[1], data[2], data[4], distance]) 

#----------------------
# 以距離, 由小至大排序
#----------------------
output.sort(key=lambda x:(x[4]), reverse=False)

#----------------------
# 只取前10筆
#----------------------
output = output[:10]

#----------------------
# 輸出
#----------------------
for data in output: 
    print(data)
```

### 輸入資料
``` python
BR01,動物園,文湖線,11656,台北市文山區新光路二段32號,24.998197,121.579338
BR02,木柵,文湖線,11656,台北市文山區木柵路四段135號,24.998241,121.573145
BR03,萬芳社區,文湖線,11653,台北市文山區萬芳路60號,24.998585,121.568102
BR04,萬芳醫院,文湖線,11696,台北市文山區興隆路三段113號,24.999386,121.558152
BR05,辛亥,文湖線,11694,台北市文山區辛亥路四段128號,25.005475,121.557107
BR06,麟光,文湖線,10676,台北市大安區和平東路三段410號,25.018535,121.558791
BR07,六張犁,文湖線,10674,台北市大安區和平東路三段168號,25.023777,121.553115
BR08,科技大樓,文湖線,10667,台北市大安區復興南路二段235號,25.026125,121.543437
BR09,大安,文湖線,10683,台北市大安區信義路四段2號,25.032943,121.543551
BR10,忠孝復興,文湖線,10654,台北市大安區忠孝東路四段47號,25.041629,121.543767
  .
  .
  .
  (略)
``` 

### 測試(畫面輸出)
``` python
['BL13', '善導寺', '板南線', '台北市中正區忠孝東路一段58號B1', 0.3]
['O07', '忠孝新生', '中和新蘆線', '台北市大安區新生南路一段67號', 0.8]
['BL14', '忠孝新生', '板南線', '台北市大安區新生南路一段67號', 0.8]
['R09', '台大醫院', '淡水信義線', '台北市中正區公園路52號B1', 0.9]
['R10', '台北車站', '淡水信義線', '台北市中正區忠孝西路一段49號', 0.9]
['BL12', '台北車站', '板南線', '台北市中正區忠孝西路一段49號', 0.9]
['R07', '東門', '淡水信義線', '台北市大安區信義路二段166號B1', 1.0]
['O06', '東門', '中和新蘆線', '台北市大安區信義路二段166號B1', 1.0]
['R11', '中山', '淡水信義線', '台北市中山區南京西路16號', 1.2]
['G14', '中山', '松山新店線', '台北市中山區南京西路16號', 1.2]
``` 
